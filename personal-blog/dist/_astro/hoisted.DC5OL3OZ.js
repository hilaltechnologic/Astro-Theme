import"./hoisted.Bij1AwUQ.js";class i{constructor(){this.searchInput=document.getElementById("search-input"),this.searchResults=document.getElementById("search-results"),this.searchResultsContent=document.getElementById("search-results-content"),this.posts=[],this.searchIndex=null,this.init()}async init(){await this.loadPosts(),this.buildSearchIndex(),this.setupEventListeners()}async loadPosts(){try{this.posts=[{title:"Getting Started with Astro",description:"Learn how to build fast, modern websites with Astro",url:"/blog/getting-started-with-astro",tags:["astro","web-development","tutorial"],content:"Astro is a modern web framework that's gaining popularity..."},{title:"Welcome to My Personal Blog",description:"A brief introduction to my blog and what you can expect",url:"/blog/first-post",tags:["personal","introduction"],content:"Hello and welcome to my personal blog! I'm excited to share..."}]}catch(e){console.error("Error loading posts:",e)}}buildSearchIndex(){this.searchIndex=this.posts.map(e=>({...e,searchText:`${e.title} ${e.description} ${e.content} ${e.tags.join(" ")}`.toLowerCase()}))}setupEventListeners(){this.searchInput.addEventListener("input",e=>{this.handleSearch(e.target.value)}),this.searchInput.addEventListener("focus",()=>{this.showResults()}),document.addEventListener("click",e=>{!this.searchInput.contains(e.target)&&!this.searchResults.contains(e.target)&&this.hideResults()})}handleSearch(e){if(!e.trim()){this.hideResults();return}const t=this.searchIndex.filter(s=>s.searchText.includes(e.toLowerCase()));this.displayResults(t,e)}displayResults(e,t){e.length===0?this.searchResultsContent.innerHTML=`
          <div class="p-4 text-gray-500 dark:text-gray-400 text-center">
            No results found for "${t}"
          </div>
        `:this.searchResultsContent.innerHTML=e.map(s=>`
          <a href="${s.url}" class="block p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-b border-gray-100 dark:border-gray-600 last:border-b-0">
            <h3 class="font-semibold text-gray-900 dark:text-white mb-1">
              ${this.highlightText(s.title,t)}
            </h3>
            <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
              ${this.highlightText(s.description,t)}
            </p>
            <div class="flex items-center text-xs text-gray-500 dark:text-gray-400">
              ${s.tags.map(a=>`
                <span class="bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded mr-2">${a}</span>
              `).join("")}
            </div>
          </a>
        `).join(""),this.showResults()}highlightText(e,t){if(!t)return e;const s=new RegExp(`(${t})`,"gi");return e.replace(s,'<mark class="bg-yellow-200 dark:bg-yellow-800">$1</mark>')}showResults(){this.searchResults.classList.remove("hidden")}hideResults(){this.searchResults.classList.add("hidden")}}document.addEventListener("DOMContentLoaded",()=>{new i});class r{constructor(){this.codeBlock=document.getElementById("code-block"),this.languageLabel=document.getElementById("language-label"),this.copyButton=document.getElementById("copy-button"),this.codeBlock&&this.init()}init(){this.detectLanguage(),this.setupCopyButton(),this.highlightSyntax()}detectLanguage(){const e=this.codeBlock.querySelector("code");if(!e)return;const t=Array.from(e.classList).find(a=>a.startsWith("language-")||a.startsWith("lang-"));let s="text";t&&(s=t.replace("language-","").replace("lang-","")),this.languageLabel&&(this.languageLabel.textContent=s.toUpperCase()),e.classList.add(`language-${s}`)}setupCopyButton(){this.copyButton&&this.copyButton.addEventListener("click",async()=>{const e=this.codeBlock.textContent;try{await navigator.clipboard.writeText(e);const t=this.copyButton.innerHTML;this.copyButton.innerHTML=`
            <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          `,setTimeout(()=>{this.copyButton.innerHTML=t},2e3)}catch(t){console.error("Failed to copy code:",t);const s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}})}highlightSyntax(){const e=this.codeBlock.querySelector("code");if(!e)return;const t=e.textContent,s=this.getLanguageFromClass(e);let a=t;switch(s){case"javascript":case"js":a=this.highlightJavaScript(t);break;case"html":a=this.highlightHTML(t);break;case"css":a=this.highlightCSS(t);break;case"python":case"py":a=this.highlightPython(t);break;case"bash":case"shell":a=this.highlightBash(t);break}e.innerHTML=a}getLanguageFromClass(e){const t=Array.from(e.classList).find(s=>s.startsWith("language-")||s.startsWith("lang-"));return t?t.replace("language-","").replace("lang-",""):"text"}highlightJavaScript(e){return e.replace(/\b(const|let|var|function|return|if|else|for|while|class|import|export|default|async|await)\b/g,'<span class="text-purple-400">$1</span>').replace(/\b(true|false|null|undefined)\b/g,'<span class="text-orange-400">$1</span>').replace(/\b(console|document|window|Math|Array|Object|String|Number|Boolean)\b/g,'<span class="text-blue-400">$1</span>').replace(/(["'`])((?:(?!\1)[^\\]|\\.)*)\1/g,'<span class="text-green-400">$1$2$1</span>').replace(/\b(\d+)\b/g,'<span class="text-yellow-400">$1</span>').replace(/(\/\/.*$)/gm,'<span class="text-gray-500">$1</span>').replace(/(\/\*[\s\S]*?\*\/)/g,'<span class="text-gray-500">$1</span>')}highlightHTML(e){return e.replace(/(&lt;\/?)([a-zA-Z][a-zA-Z0-9]*)([^&]*?)(&gt;)/g,'<span class="text-blue-400">$1</span><span class="text-orange-400">$2</span><span class="text-gray-300">$3</span><span class="text-blue-400">$4</span>').replace(/([a-zA-Z-]+)=/g,'<span class="text-green-400">$1</span>=').replace(/(["'])((?:(?!\1)[^\\]|\\.)*)\1/g,'<span class="text-yellow-400">$1$2$1</span>')}highlightCSS(e){return e.replace(/([a-zA-Z-]+):/g,'<span class="text-green-400">$1</span>:').replace(/(["'])((?:(?!\1)[^\\]|\\.)*)\1/g,'<span class="text-yellow-400">$1$2$1</span>').replace(/\b(px|em|rem|%|vh|vw)\b/g,'<span class="text-purple-400">$1</span>').replace(/\b(#[0-9a-fA-F]{3,6})\b/g,'<span class="text-orange-400">$1</span>').replace(/(\/\*[\s\S]*?\*\/)/g,'<span class="text-gray-500">$1</span>')}highlightPython(e){return e.replace(/\b(def|class|import|from|as|return|if|else|elif|for|while|try|except|finally|with|in|is|and|or|not|True|False|None)\b/g,'<span class="text-purple-400">$1</span>').replace(/\b(print|len|str|int|float|list|dict|set|tuple)\b/g,'<span class="text-blue-400">$1</span>').replace(/(["'`])((?:(?!\1)[^\\]|\\.)*)\1/g,'<span class="text-green-400">$1$2$1</span>').replace(/\b(\d+)\b/g,'<span class="text-yellow-400">$1</span>').replace(/(#.*$)/gm,'<span class="text-gray-500">$1</span>')}highlightBash(e){return e.replace(/^\$ /gm,'<span class="text-green-400">$ </span>').replace(/\b(cd|ls|mkdir|rm|cp|mv|cat|echo|grep|find|chmod|chown|sudo|apt|yum|brew|git|npm|yarn)\b/g,'<span class="text-blue-400">$1</span>').replace(/(["'`])((?:(?!\1)[^\\]|\\.)*)\1/g,'<span class="text-yellow-400">$1$2$1</span>').replace(/(#.*$)/gm,'<span class="text-gray-500">$1</span>')}}document.addEventListener("DOMContentLoaded",()=>{new r});class o{constructor(){this.images=[],this.currentIndex=0,this.lightbox=document.getElementById("lightbox"),this.lightboxImage=document.getElementById("lightbox-image"),this.lightboxCaption=document.getElementById("lightbox-caption"),this.closeButton=document.getElementById("close-lightbox"),this.prevButton=document.getElementById("prev-image"),this.nextButton=document.getElementById("next-image"),this.init()}init(){const e=document.querySelectorAll(".gallery-item img");this.images=Array.from(e).map((t,s)=>({src:t.src,alt:t.alt,caption:t.closest(".gallery-item").querySelector(".absolute p")?.textContent||""})),this.setupEventListeners()}setupEventListeners(){this.closeButton?.addEventListener("click",()=>{this.closeLightbox()}),this.prevButton?.addEventListener("click",()=>{this.showPreviousImage()}),this.nextButton?.addEventListener("click",()=>{this.showNextImage()}),document.addEventListener("keydown",e=>{if(!this.lightbox?.classList.contains("hidden"))switch(e.key){case"Escape":this.closeLightbox();break;case"ArrowLeft":this.showPreviousImage();break;case"ArrowRight":this.showNextImage();break}}),this.lightbox?.addEventListener("click",e=>{e.target===this.lightbox&&this.closeLightbox()})}openLightbox(e){this.currentIndex=e,this.showImage(e),this.lightbox?.classList.remove("hidden"),document.body.style.overflow="hidden"}closeLightbox(){this.lightbox?.classList.add("hidden"),document.body.style.overflow=""}showImage(e){if(!this.images[e])return;const t=this.images[e];this.lightboxImage&&(this.lightboxImage.src=t.src,this.lightboxImage.alt=t.alt),this.lightboxCaption&&(this.lightboxCaption.textContent=t.caption,this.lightboxCaption.style.display=t.caption?"block":"none")}showPreviousImage(){this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length,this.showImage(this.currentIndex)}showNextImage(){this.currentIndex=(this.currentIndex+1)%this.images.length,this.showImage(this.currentIndex)}}window.openLightbox=function(n){window.imageGallery&&window.imageGallery.openLightbox(n)};document.addEventListener("DOMContentLoaded",()=>{window.imageGallery=new o});class l{constructor(){this.videos=document.querySelectorAll(".video-wrapper iframe, .video-wrapper video"),this.init()}init(){if("IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(s=>{if(s.isIntersecting){const a=s.target;a.tagName==="IFRAME"?a.src=a.dataset.src:a.tagName==="VIDEO"&&a.load(),e.unobserve(a)}})},{rootMargin:"50px"});this.videos.forEach(t=>{t.tagName==="IFRAME"&&(t.dataset.src=t.src,t.src=""),e.observe(t)})}}}document.addEventListener("DOMContentLoaded",()=>{new l});
